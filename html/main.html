<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
	<title>Spotiuwu</title>
</head>
<body class="vh-100 d-flex justify-content-center align-items-center flex-column">
	<form class="col-4" id="form">
		<input class="input-group-text w-100" id="playlistid" type="text" placeholder="3NEKLoQGcF4ltWSW9fDaAw" value="3NEKLoQGcF4ltWSW9fDaAw">
		<input class="btn btn-primary w-100" id="submitbtn" type="submit">
	</form>
	<script>
		$('#form').submit((e) => {
			$('#submitbtn').val('Loading...')
			e.preventDefault()
			fetch('/api/' + $('#playlistid').val(), {
		        method: 'GET',
		    })
		    .then((res) => res.json())
		    .then((data) => {
		    	$('body').empty()
		    	$('body').append(`<a href=${data.zipped}>Playlist Download</a>`)
		    	data.songs.forEach((entry) => {
		    		$('body').append(`<a href="${entry[0]}">${entry[1]}</a>`)
		    	})
		    })
		    .catch((err) => {
		    	console.log(`Error: ${err}`)
		    })
		})
	</script>
</body>
</html>



